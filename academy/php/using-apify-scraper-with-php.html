<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-academy docs-doc-id-php/using_apify_scraper_with_php">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Using Apify Scrapers via API from PHP | Apify Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://apify.com/img/og/docs.png"><meta data-rh="true" name="twitter:image" content="https://apify.com/img/og/docs.png"><meta data-rh="true" property="og:url" content="https://docs.apify.com/academy/php/using-apify-scraper-with-php"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-academy-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-academy-current"><meta data-rh="true" property="og:title" content="Using Apify Scrapers via API from PHP | Apify Documentation"><meta data-rh="true" name="description" content="Start scrapers and fetch results from a PHP application"><meta data-rh="true" property="og:description" content="Start scrapers and fetch results from a PHP application"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.apify.com/academy/php/using-apify-scraper-with-php"><link data-rh="true" rel="alternate" href="https://docs.apify.com/academy/php/using-apify-scraper-with-php" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.apify.com/academy/php/using-apify-scraper-with-php" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N8EOCSBQGH-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Apify Documentation" href="/opensearch.xml">



<script src="/js/custom.js"></script><link rel="stylesheet" href="/assets/css/styles.491824f1.css">
<link rel="preload" href="/assets/js/runtime~main.59ce9323.js" as="script">
<link rel="preload" href="/assets/js/main.6eff774b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div style="--ifm-navbar-height:68px;margin:0;padding:0;box-sizing:border-box"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div style="width:100%;height:fit-content;align-items:center;display:flex;flex-direction:column"><div class="navbar__inner"><div class="navbar__container"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.apify.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/apify_sdk.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/apify_sdk_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a href="https://docs.apify.com/academy" target="_self" rel="dofollow" class="navbar__item navbar__link navbar__link--active">Academy</a><a href="https://docs.apify.com/platform" target="_self" rel="dofollow" class="navbar__item navbar__link">Platform</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link">API</a><ul class="dropdown__menu"><li><a href="https://docs.apify.com/api/v2/" target="_self" rel="dofollow" class="dropdown__link">Reference</a></li><li><a href="https://docs.apify.com/api/client/js/" target="_self" rel="dofollow" class="dropdown__link">Client for JavaScript</a></li><li><a href="https://docs.apify.com/api/client/python/" target="_self" rel="dofollow" class="dropdown__link">Client for Python</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link">SDK</a><ul class="dropdown__menu"><li><a href="https://docs.apify.com/sdk/js/" target="_self" rel="dofollow" class="dropdown__link">SDK for JavaScript</a></li><li><a href="https://docs.apify.com/sdk/python/" target="_self" rel="dofollow" class="dropdown__link">SDK for Python <span class="beta-chip">beta</span></a></li></ul></div><a href="https://docs.apify.com/cli/" target="_self" rel="dofollow" class="navbar__item navbar__link">CLI</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar__item">Open Source</a><ul class="dropdown__menu"><li><a href="https://crawlee.dev" target="_blank" rel="dofollow" class="dropdown__link">Crawlee<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/apify/got-scraping" target="_blank" rel="noopener noreferrer" class="dropdown__link">Got Scraping<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/apify/fingerprint-suite" target="_blank" rel="noopener noreferrer" class="dropdown__link">Fingerprint Suite<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="dropdown__link">See our GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_HIU5 colorModeToggle_nCl2"><button class="clean-btn toggleButton_ezTW toggleButtonDisabled_E3zm" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><span><svg viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg" width="14" height="14" class="lightToggleIcon_kM7M"><g clip-path="url(#clip0_833_8168)"><path d="M6.59998 8.49999C7.98069 8.49999 9.09998 7.3807 9.09998 5.99999C9.09998 4.61928 7.98069 3.49999 6.59998 3.49999C5.21926 3.49999 4.09998 4.61928 4.09998 5.99999C4.09998 7.3807 5.21926 8.49999 6.59998 8.49999Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 0.5V1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 10.5V11.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 2.11L3.4199 2.82" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 9.17999L10.4899 9.88999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M1.09998 6H2.09998" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.0999 6H12.0999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 9.88999L3.4199 9.17999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 2.82L10.4899 2.11" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_833_8168"><rect width="12" height="12" fill="white" transform="translate(0.599976)"></rect></clipPath></defs></svg><svg viewBox="0 0 13 12" width="14" height="14" class="darkToggleIcon_BL0U"><path d="M10.7001 6.39501C10.6215 7.24611 10.3021 8.05721 9.77927 8.7334C9.25646 9.40959 8.55189 9.92291 7.748 10.2133C6.9441 10.5036 6.07414 10.5591 5.2399 10.3731C4.40565 10.187 3.64164 9.76728 3.03726 9.1629C2.43287 8.55851 2.01312 7.7945 1.8271 6.96026C1.64108 6.12602 1.6965 5.25605 1.98688 4.45216C2.27725 3.64826 2.79056 2.94369 3.46675 2.42088C4.14294 1.89808 4.95404 1.57866 5.80515 1.50001C5.30685 2.17414 5.06707 3.00473 5.12941 3.84071C5.19175 4.6767 5.55208 5.46254 6.14485 6.05531C6.73762 6.64808 7.52346 7.0084 8.35944 7.07074C9.19542 7.13308 10.026 6.8933 10.7001 6.39501Z" stroke="currentColor" fill="transparent" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></button></div><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="See our GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using Apify Scrapers via API from PHP</h1></header><p>Once you set up and test your scraper, you can integrate it into your application via our API. Many of the questions we get are about API integration from PHP, so we&#x27;ve prepared this article on using Apify&#x27;s API with a PHP application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-our-goal">What is our goal?<a href="#what-is-our-goal" class="hash-link" aria-label="Direct link to What is our goal?" title="Direct link to What is our goal?">​</a></h2><p>The main goal of this article is to give you an example of how to start your scraper and fetch results from a PHP application. We&#x27;ll also show you how to alter the scraper configuration when starting the scraper.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="where-can-i-find-the-api-endpoint-for-my-scraper">Where can I find the API endpoint for my scraper?<a href="#where-can-i-find-the-api-endpoint-for-my-scraper" class="hash-link" aria-label="Direct link to Where can I find the API endpoint for my scraper?" title="Direct link to Where can I find the API endpoint for my scraper?">​</a></h2><p>Each actor or task you set up at Apify has its own automatically-generated API endpoint. You can find this in the API section of the scraper configuration page. The API for starting the scraper has the following format for actors:</p><blockquote><p><code>https://api.apify.com/v2/acts/ACTOR_ID/runs?token=API_TOKEN</code></p></blockquote><p>and for tasks:</p><blockquote><p><code>https://api.apify.com/v2/actor-tasks/ACTOR_TASK_ID/runs?token=API_TOKEN</code></p></blockquote><p>Don&#x27;t forget to replace the capitalized part with your own values. You can read a more detailed article on how to work with our API <a href="https://help.apify.com/en/articles/3224035-run-actor-task-and-retrieve-data-via-api" target="_blank" rel="noopener">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="starting-the-scraper-and-fetching-results-from-php">Starting the scraper and fetching results from PHP<a href="#starting-the-scraper-and-fetching-results-from-php" class="hash-link" aria-label="Direct link to Starting the scraper and fetching results from PHP" title="Direct link to Starting the scraper and fetching results from PHP">​</a></h2><p>We can now use this API from our PHP application. Here&#x27;s an example of how to start the scraper and get a response describing the scraper run:</p><div class="language-PHP codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-PHP codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ch = curl_init(&#x27;https://api.apify.com/v2/actor-tasks/ACTOR_TASK_ID/runs?token=API_TOKEN&#x27;);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl_setopt($ch, CURLOPT_CUSTOMREQUEST, &quot;POST&quot;);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result_json = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">In `$result_json` you can find the response describing the scraper run:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;data&quot;: {\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: &quot;HG7ML7M8z78YcAPEB&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;actId&quot;: &quot;HDSasDasz78YcAPEB&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;userId&quot;: &quot;BPWZBd9V9c746JAnF&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;actorTaskId&quot;: &quot;KJHSKHausidyaJKHs&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;startedAt&quot;: &quot;2019-11-30T07:34:24.202Z&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;finishedAt&quot;: &quot;2019-12-12T09:30:12.202Z&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;: &quot;SUCCEEDED&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;meta&quot;: {\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;origin&quot;: &quot;WEB&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;clientIp&quot;: &quot;172.234.12.34&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;userAgent&quot;: &quot;Mozilla/5.0 (iPad)&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;scheduleId&quot;: &quot;dWazFsPpxMigMSqHL&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;scheduledAt&quot;: &quot;2019-06-10T11:40:00.000Z&quot;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stats&quot;: {\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;inputBodyLen&quot;: 240,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;restartCount&quot;: 0,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;resurrectCount&quot;: 2,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;memAvgBytes&quot;: 35914228.4,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;memMaxBytes&quot;: 38244352,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;memCurrentBytes&quot;: 0,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cpuAvgUsage&quot;: 0.00955965,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cpuMaxUsage&quot;: 3.15469,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cpuCurrentUsage&quot;: 0,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;netRxBytes&quot;: 2652,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;netTxBytes&quot;: 1338,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;durationMillis&quot;: 26239,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;runTimeSecs&quot;: 26.239,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;metamorph&quot;: 0,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;computeUnits&quot;: 0.0072886\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;options&quot;: {\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;build&quot;: &quot;latest&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;timeoutSecs&quot;: 300,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;memoryMbytes&quot;: 1024,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;diskMbytes&quot;: 2048\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;buildId&quot;: &quot;7sT5jcggjjA9fNcxF&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;exitCode&quot;: 0,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;defaultKeyValueStoreId&quot;: &quot;eJNzqsbPiopwJcgGQ&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;defaultDatasetId&quot;: &quot;wmKPijuyDnPZAPRMk&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;defaultRequestQueueId&quot;: &quot;FL35cSF7jrxr3BY39&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;buildNumber&quot;: &quot;0.2.2&quot;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;containerUrl&quot;: &quot;https://nwfcc4btrgqt.runs.apify.com&quot;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Even if the scraper is still running, you can fetch results (data you outputted from the pageFunction) using the <code>defaultDatasetId</code>. To get complete results when the scraper is finished, you can periodically check the result dataset for scraper status or even better use a webhook, which you can set up under advanced settings on the scraper configuration page.</p><p>You can get the dataset items via this API</p><blockquote><p><code>https://api.apify.com/v2/datasets/DATASET_ID/items</code></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="changing-scraper-configuration-when-starting-the-scraper">Changing scraper configuration when starting the scraper<a href="#changing-scraper-configuration-when-starting-the-scraper" class="hash-link" aria-label="Direct link to Changing scraper configuration when starting the scraper" title="Direct link to Changing scraper configuration when starting the scraper">​</a></h2><p>Sometimes you want to run your scraper and change some of its settings for the current run. A typical use case is a scraper configuration with a set of <code>Start URLs</code> when starting the crawl. You can achieve this by altering these settings when starting the scraper via API using POST data with new scraper settings.</p><p>Here&#x27;s an example in PHP (with some basic output):</p><div class="language-PHP codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-PHP codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data = array(\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;startUrls&quot; =&gt; [\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        array(&quot;url&quot; =&gt; &quot;http://www.example.com&quot;),\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        array(&quot;url&quot; =&gt; &quot;http://www.example.com?test2&quot;)]\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data_json = json_encode($data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&lt;h1&gt;Invoking Apify API with:&lt;/h1&gt;&quot;;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&lt;pre&gt;\n&quot;.$data_json.&quot;&lt;/pre&gt;&quot;;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&lt;br&gt;&lt;br&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ch = curl_init(&#x27;https://api.apify.com/v2/actor-tasks/ACTOR_TASK_ID/runs?token=API_TOKEN&#x27;);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl_setopt($ch, CURLOPT_CUSTOMREQUEST, &quot;POST&quot;);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl_setopt($ch, CURLOPT_POSTFIELDS, $data_json);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl_setopt($ch, CURLOPT_HTTPHEADER, array(\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;Content-Type: application/json&#x27;,\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;Content-Length: &#x27; . strlen($data_json))\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result_json = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&lt;h1&gt;Result:&lt;/h1&gt;&quot;;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&lt;pre&gt;\n&quot;.$result_json.&quot;&lt;/pre&gt;&quot;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that this only changes the scraper settings for the current run. This enables you to run crawls in parallel with different configurations.</p><p><a href="mailto:support@apify.com" target="_blank" rel="noopener">Let us know</a> if you come across any issues or would like to contribute examples for other languages.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apify/apify-docs-v2/edit/master/sources/academy/php/using_apify_scraper_with_php.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-02-09T13:18:35.000Z">Feb 9, 2023</time></b> by <b>Martin Adámek</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav><div class="giscus_YLKn"></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-our-goal" class="table-of-contents__link toc-highlight">What is our goal?</a></li><li><a href="#where-can-i-find-the-api-endpoint-for-my-scraper" class="table-of-contents__link toc-highlight">Where can I find the API endpoint for my scraper?</a></li><li><a href="#starting-the-scraper-and-fetching-results-from-php" class="table-of-contents__link toc-highlight">Starting the scraper and fetching results from PHP</a></li><li><a href="#changing-scraper-configuration-when-starting-the-scraper" class="table-of-contents__link toc-highlight">Changing scraper configuration when starting the scraper</a></li></ul></div></div></div></div></main></div></div><footer class="footer_wSZr light"><div class="container padding-horiz--lg"><div class="row" style="justify-content:space-between"><div class="col col--2"><div class="footerTitle_Fgq2">Learn</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/academy" target="_self" rel="dofollow" class="footer__link-item">Academy</a></li><li class="footer__item"><a href="https://docs.apify.com/platform" target="_self" rel="dofollow" class="footer__link-item">Platform</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">API</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/api/v2/" target="_self" rel="dofollow" class="footer__link-item">Reference</a></li><li class="footer__item"><a href="https://docs.apify.com/api/client/js/" target="_self" rel="dofollow" class="footer__link-item">Client for JavaScript</a></li><li class="footer__item"><a href="https://docs.apify.com/api/client/python/" target="_self" rel="dofollow" class="footer__link-item">Client for Python</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">SDK</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/sdk/js/" target="_self" rel="dofollow" class="footer__link-item">SDK for JavaScript</a></li><li class="footer__item"><a href="https://docs.apify.com/sdk/python/" target="_self" rel="dofollow" class="footer__link-item">SDK for Python (beta)</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">Other</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/cli/" target="_self" rel="dofollow" class="footer__link-item" position="left">CLI</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">More</div><ul class="clean-list"><li class="footer__item"><a href="https://crawlee.dev" target="_blank" rel="dofollow" class="footer__link-item">Crawlee</a></li><li class="footer__item"><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="row padding-vert--md padding-top--lg"><div class="col padding-vert--md col--6"><div class="footerLogo_yvY1"></div></div></div></div></footer></div></div>
<script src="/assets/js/runtime~main.59ce9323.js"></script>
<script src="/assets/js/main.6eff774b.js"></script>
</body>
</html>