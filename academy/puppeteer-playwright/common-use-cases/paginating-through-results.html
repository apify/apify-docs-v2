<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-academy docs-doc-id-puppeteer_playwright/common_use_cases/paginating_through_results">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Paginating through results | Apify Docs v2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs-v2.apify.com/img/apify_og_SDK.png"><meta data-rh="true" name="twitter:image" content="https://docs-v2.apify.com/img/apify_og_SDK.png"><meta data-rh="true" property="og:url" content="https://docs-v2.apify.com/academy/puppeteer-playwright/common-use-cases/paginating-through-results"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-academy-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-academy-current"><meta data-rh="true" property="og:title" content="Paginating through results | Apify Docs v2"><meta data-rh="true" name="description" content="Learn how to paginate through results on websites that use either page number-based pagination or dynamic lazy-loading pagination."><meta data-rh="true" property="og:description" content="Learn how to paginate through results on websites that use either page number-based pagination or dynamic lazy-loading pagination."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs-v2.apify.com/academy/puppeteer-playwright/common-use-cases/paginating-through-results"><link data-rh="true" rel="alternate" href="https://docs-v2.apify.com/academy/puppeteer-playwright/common-use-cases/paginating-through-results" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs-v2.apify.com/academy/puppeteer-playwright/common-use-cases/paginating-through-results" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N8EOCSBQGH-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Apify Docs v2" href="/opensearch.xml">



<script src="/js/custom.js"></script><link rel="stylesheet" href="/assets/css/styles.38cc347a.css">
<link rel="preload" href="/assets/js/runtime~main.e415a2ae.js" as="script">
<link rel="preload" href="/assets/js/main.7ddff4e2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div style="width:100%;height:100%;align-items:center;display:flex;flex-direction:column"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs-v2.apify.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/apify_sdk.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/apify_sdk_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Apify Docs</b></a><a href="https://docs-v2.apify.com/academy" target="_self" rel="dofollow" class="navbar__item navbar__link navbar__link--active">Academy</a><a href="https://docs-v2.apify.com/platform" target="_self" rel="dofollow" class="navbar__item navbar__link">Platform</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link">API</a><ul class="dropdown__menu"><li><a href="https://docs.apify.com/api/v2" target="_blank" rel="noopener noreferrer" class="dropdown__link">Reference</a></li><li><a href="https://docs-v2.apify.com/client-js/" target="_self" rel="dofollow" class="dropdown__link">Client for JavaScript</a></li><li><a href="https://docs-v2.apify.com/client-python/" target="_self" rel="dofollow" class="dropdown__link">Client for Python</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link">SDK</a><ul class="dropdown__menu"><li><a href="https://docs-v2.apify.com/sdk-js/" target="_self" rel="dofollow" class="dropdown__link">SDK for JavaScript</a></li><li><a href="https://docs-v2.apify.com/sdk-python/" target="_self" rel="dofollow" class="dropdown__link">SDK for Python</a></li></ul></div><a href="https://docs-v2.apify.com/cli/" target="_self" rel="dofollow" class="navbar__item navbar__link">CLI</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Open Source</a><ul class="dropdown__menu"><li><a href="https://crawlee.dev" target="_blank" rel="dofollow" class="dropdown__link">Crawlee</a></li><li><a href="https://github.com/apify/got-scraping" target="_blank" rel="noopener noreferrer" class="dropdown__link">Got Scraping</a></li><li><a href="https://github.com/apify/fingerprint-suite" target="_blank" rel="noopener noreferrer" class="dropdown__link">Fingerprint Suite</a></li><li><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="dropdown__link">See our GitHub</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_HIU5 colorModeToggle_nCl2"><button class="clean-btn toggleButton_ezTW toggleButtonDisabled_E3zm" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><span><svg viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg" width="14" height="14" class="lightToggleIcon_kM7M"><g clip-path="url(#clip0_833_8168)"><path d="M6.59998 8.49999C7.98069 8.49999 9.09998 7.3807 9.09998 5.99999C9.09998 4.61928 7.98069 3.49999 6.59998 3.49999C5.21926 3.49999 4.09998 4.61928 4.09998 5.99999C4.09998 7.3807 5.21926 8.49999 6.59998 8.49999Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 0.5V1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 10.5V11.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 2.11L3.4199 2.82" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 9.17999L10.4899 9.88999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M1.09998 6H2.09998" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.0999 6H12.0999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 9.88999L3.4199 9.17999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 2.82L10.4899 2.11" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_833_8168"><rect width="12" height="12" fill="white" transform="translate(0.599976)"></rect></clipPath></defs></svg><svg viewBox="0 0 13 12" width="14" height="14" class="darkToggleIcon_BL0U"><path d="M10.7001 6.39501C10.6215 7.24611 10.3021 8.05721 9.77927 8.7334C9.25646 9.40959 8.55189 9.92291 7.748 10.2133C6.9441 10.5036 6.07414 10.5591 5.2399 10.3731C4.40565 10.187 3.64164 9.76728 3.03726 9.1629C2.43287 8.55851 2.01312 7.7945 1.8271 6.96026C1.64108 6.12602 1.6965 5.25605 1.98688 4.45216C2.27725 3.64826 2.79056 2.94369 3.46675 2.42088C4.14294 1.89808 4.95404 1.57866 5.80515 1.50001C5.30685 2.17414 5.06707 3.00473 5.12941 3.84071C5.19175 4.6767 5.55208 5.46254 6.14485 6.05531C6.73762 6.64808 7.52346 7.0084 8.35944 7.07074C9.19542 7.13308 10.026 6.8933 10.7001 6.39501Z" stroke="currentColor" fill="transparent" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></button></div><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="See our GitHub">GitHub</a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord">Discord</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://docs-v2.apify.com" target="_self" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="/img/apify_sdk.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/apify_sdk_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"><b>Apify Docs</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/academy">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/web-scraping-for-beginners">Web scraping for beginners</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web scraping for beginners&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/academy/puppeteer-playwright">Puppeteer &amp; Playwright</a><button aria-label="Toggle the collapsible sidebar category &#x27;Puppeteer &amp; Playwright&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/browser">I - Launching a browser</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/puppeteer-playwright/page">II - Opening &amp; controlling a page</a><button aria-label="Toggle the collapsible sidebar category &#x27;II - Opening &amp; controlling a page&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/puppeteer-playwright/executing-scripts">III - Executing scripts</a><button aria-label="Toggle the collapsible sidebar category &#x27;III - Executing scripts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/reading-intercepting-requests">IV - Reading &amp; intercepting requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/proxies">V - Using proxies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/browser-contexts">VI - Creating multiple browser contexts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/academy/puppeteer-playwright/common-use-cases">Common use cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Common use cases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/common-use-cases/logging-into-a-website">Logging into a website</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/academy/puppeteer-playwright/common-use-cases/paginating-through-results">Paginating through results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/common-use-cases/downloading-files">Downloading files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/common-use-cases/submitting-a-form-with-a-file-attachment">Submitting a form with a file attachment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/common-use-cases/scraping-iframes">Scraping iFrames</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/api-scraping">API scraping</a><button aria-label="Toggle the collapsible sidebar category &#x27;API scraping&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/anti-scraping">Anti-scraping protections</a><button aria-label="Toggle the collapsible sidebar category &#x27;Anti-scraping protections&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/switching-to-typescript">Switching to TypeScript</a><button aria-label="Toggle the collapsible sidebar category &#x27;Switching to TypeScript&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/advanced-web-scraping">Advanced web scraping</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced web scraping&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/academy/apify-platform">Introduction to Apify Platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/getting-started">Getting started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/deploying-your-code">Deploying your code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploying your code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/get-most-of-actors">Getting the most of actors on Apify Store</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting the most of actors on Apify Store&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/academy/running-a-web-server">Running a web server on the Apify platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/expert-scraping-with-apify">Expert scraping with Apify</a><button aria-label="Toggle the collapsible sidebar category &#x27;Expert scraping with Apify&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/academy/tutorials">What&#x27;s this section?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/node-js">Node.js tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Node.js tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/python">Python tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/academy/glossary">Why a glossary?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/tools">Tools</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/academy/concepts">Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/academy/puppeteer-playwright"><span itemprop="name">Puppeteer &amp; Playwright</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/academy/puppeteer-playwright/common-use-cases"><span itemprop="name">Common use cases</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Paginating through results</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1><a href="#paginating-through-results"></a> Paginating through results</h1><p>If you&#x27;re trying to <a href="/academy/puppeteer-playwright/executing-scripts/collecting-data">collect data</a> on a website that has millions, thousands, or even just hundreds of results, it is very likely that they are paginating their results to reduce strain on their backend as well as on the users loading and rendering the content.</p><p><img loading="lazy" src="https://apify-docs.s3.amazonaws.com/master/docs/assets/tutorials/images/pagination.webp" alt="Amazon pagination" class="img_ev3q"></p><p>Attempting to scrape thousands to tens of thousands of results using a headless browser on a website that only shows 30 results at a time might be daunting at first, but be rest assured that by the end of this lesson you&#x27;ll feel confident when faced with this use case.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-page-number-based-pagination"><a href="#page-number-based-pagination"></a> Page number-based pagination<a class="hash-link" href="#-page-number-based-pagination" title="Direct link to heading">​</a></h2><p>At the time of writing, Facebook has <a href="https://github.com/orgs/facebook/repositories" target="_blank" rel="noopener">115 repositories on Github</a>. By default, Github lists repositories in descending order based on when they were last updated (the most recently updated repos are at the top of the list).</p><p>We want to scrape all of the titles, links, and descriptions for Facebook&#x27;s repositories; however, Github only displays 30 repos per page. This means we&#x27;ve gotta paginate through all of the results.</p><p>Let&#x27;s first start off by defining some basic variables:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// This is where we&#x27;ll push all of the scraped repos</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> repositories </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">BASE_URL</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://github.com&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// We&#x27;ll use this URL a couple of times within our code, so we&#x27;ll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// store it in a constant variable to prevent typos and so it&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// easier to tell what it is</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">REPOSITORIES_URL</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation constant" style="color:#36acaa">BASE_URL</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">/orgs/facebook/repositories</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-finding-the-last-page"><a href="#finding-the-last-page"></a> Finding the last page<a class="hash-link" href="#-finding-the-last-page" title="Direct link to heading">​</a></h3><p>What we want to do now is grab the last page number, so that we know exactly how many requests we need to send in order to paginate through all of the repositories. Luckily, this information is available right on the page here:</p><p><img loading="lazy" alt="Final page number" src="data:image/webp;base64,UklGRpYJAABXRUJQVlA4IIoJAADQOACdASpeAkwAPqlOok0mJCMiJHFKiMAVCWNu3V6dox6r8kvazr/+I+/v8v/VnofzbernzDyq/RD0FeYL+qHSN8wv7EerT6Ov8z6gH84/znWwegt5c/7e/C7+5/7ge1vqr3or/JWjNervTlY4AN1/S0NEbycl0OcpgdITZBPz/vyXVZCVGEl7WpTA5ghhZ7La+6kUJ3exDlq3BvpbsmS1KYG0vdqY6tZgXRIrHU/h3zfDpxas6t1QenYoDndDr0qlUxjj345ftIZED1EZwT4HvAL4IHKEyeSvlje5N59qqiljYgSysHh/aw6quuK4xpoS8AwwbF8yyfHalKbeKy+2Axn2X4rp/qC8gtaNAaR0JbmLGoRI66L/4zsz2k0h/EKwT1PGRah9ci6nxelF5sbtdOp8fO/EJUcgDqyD/vaLwp4FIpZtuozksRl466ia3NVr+2gcNeL0qm32edeBiB2+b7zMWk+IgU0coL4KG45JcSXMrM+LOPLmb9f13LVifH7LugY9Q/QW1vHyyfeJx+/oD8H7CqDP7LzWpPp3T/9BWs5KGzKglxnOU9LEfJ9hoHcF24EL9X0TGtarY7YF+iw58uCwiuyDgTTTmlMDpCSAAP70v1U8pPijnkgFEw2tzx7mhVjp1omiX16yR+ZSYer+rLPni4Ina6Wlww40iihth5zP9Zf8oSk8+y6M6YA1+4P3B+4NMh0SLLEQmf4SOnJQ0MjFyblL87MPkd8fwsqpKGfxBTSVajpPP4DOOqBLJ1XiUvaqsT0K/sH1drFOYwnERXyGpMgsqF2C1asxx3lhgTjJzsUTFfqmvwrAfeF8he1z96epdabRPp4ILp9AB2R99Jbrfp9huI2Ff16mccD4fZ5ZCc43Wkwl+EejnJlBaVvuzTXlNQJXcbFVwKBzQYWDVQbuTWYUibFEWlbXoNoNtX4RfDIupAmcU1OJk7RKz16LwFZ1GTZQEM3XzaTEqxhSLDMrDBk1l0aUfwDWMtjm+ZFhHH0SD3bySVhgtlntHYuNLuFr6ONNVEH5oEn2+YRzUqsw97GlJxxZzk6CLeop7YAtEHGraTVcpT8pXFuCXilaAF9HISCtd6mKUlMwmaLqaQW0DN/LdsiBdO/ZkP+r3SyLwyE17R0mj8zZe/NFGI608laXyAceIdWZl9Z1DeONFmtD06PC82G4CV+i0o4Y0ObHCMIzye9HPHTSadJeZ/NHYv3FmvG7QPZzmOswL63nNEel2CfMlesud14UtFQSPGkJqgu1NYWjq5r2o9pc48L82dFi/zb3nuARhMyLfygJeeCIBsGuMG07mLsAlYto1xxebDuaHE8HFFqGMTijRl+6VdGw6RJ3xdpPoiPqYxeN/DAsI9Yr9hSXYmQJPya/RsR+7a6k5ycurxGDuvvwMKnnCJtqYar2vO+2Ht0vdsw6fibobswwPH4rG11KHlCkX0xj3Hce8nXUHA47fNPE/MdChhqZzJjShsIVYg7gAMGYDQ++fVwpYQYSQNMboI2Kz0WtxvwSyUX+etESXtf+x9hhJg1XloLKFCL1Iv4r6x7A+nX0hbe6hvQp8nsbtAAfxqldXgdLpRapYl6bNSMFJTKGNQbD1GKxEMXQkkhccp90PkMZy76Yl/4An3pMwD3hCSY0yGedjVsMkQ8poAdN4VxWLTTyeJwp9xzokPt0/xYZCs+HZzgH/Kj6rjaekY0i578xy4jBm/ND0ty/Qfi7eQfy4p9eDEDLCd/zvIk1VdHkOCbCEXSS+xcPg0A7kR9MEUoyUBgyKoJeXy2p+nebrc4G/SC3S6BFjVpCBUnuDs10NFCtiWgyex8PUc1XdL77nZ3bkrbscVk1GvlQYfHh4hVtY4elj/OaQIIcvfb9wOfm8iy0GGO7k2Hyhk8toprGG6I/Sf6HPdVDg3ENh1g5td8/1pg+EObuGTU5ie97oEz8VoXxjAHoyYPNLPmyMtTpjknZiVR/uQHlv9FoHzyQS/tB3H2PFqN5qbDfvF/Hk+2keqSMDh577oFvq0P1zye9ZGBIBxd9fY7sBC/u7cJ5VTGh8gFMi/zGa1SyLp1JcKdXU3rwTCnso9Hdk2aMsO8DJnIss4KwmRQKHeuMC8IyxKKumPWGxpEDBGkCJw8H1Zoy+TbCsk0sqMe820/ngTOHr1+Ah66glKtaDt7DW4ef8gaDB0SSzkYtkS7Wio6OCv+raFXoIjkjBTpJ+a+fVpBkcBDrqdQL7a7s11kbuM7Ntu4zEFSlSjZdnqftYiv8VXk9N3OYWy8iZQfOVNmTZmPsd8jGVSOjnfSQOQIeuXG6M1vMCDDJouXT3vF9YrQOR3z1jx4R975aXkvwLyQyZ9lrXw+BkIGJQjqA/gKFJa78BobA9QFw6LmSvPFV4GFWVyII1sEzdjg3sCIYvvI0o4ALsjti5pWaC3clU7gsd95bMOj7M20UGCtOcWanRHBsFGF8D/He0QmzWF/AcMv8SXjoLVSWNBVtBnSTyZ3DCzZlC4nUx5fuIKR7KeU1ynDMjZQOPLJYdM9Y3lsk8Nb+jLHwuYBYYNiE2CAB10Kf3vRvpXZJvxxh4KUMs4agpl3HQsu50aB3lKsVRTZAo4BcVYUClvYE/d358X3TxubZDVlD1dbHZ8I/I04CAGodr8zUBH+W7/KHLbGo/e1qrjKNE/aTJWDsK/MHLI9LneLtv/9HtzaktTKMGBSmkZEmcnFZxJUf232vVu4z0D0/ik52ii9tTxE9g/QCUVm2R6+Cm9UY50FSQgvD9Z+j+ZR6lHTi/h/kLxepyipxkjBYK8J5wNkA76rweotrNO1JpSskm9XFcqVA4/hB+4RTl/5o/Vqrdbewb8LJw73/Q4B92HQPn0xfyuTyJfFLJexniwx/A0atRwj3mg5IRug5CvKPzsE8MTG0BfpUPLSgk3QAzUZAhW7HxFU6BDTkIh8sfrdKPV7+EJmw4mIOBo+v0PTzKLSt+0CXQWazj70xJZdyc/f+xQHVptOr3Ei+9pFeXMMi74Mh6TXCiUZTqkvpOjminC806hnMlWtxJLInldyNpyANxftaVADEAUf6UnZUmQG8hrNPvgOHcQXYAA5hJGOYg9psIv7tG/+PhPaUhG/oINuCr3+xVShqodU2f7raAR/SkH9MwIbGOrTP6OkwZ2N+cPsh9uqntuzLlvYR2bQ6M4UnS8h5wKOTtIDWLKcwTVK8e50PN/RLS3w6iee/fsFgwk/vZ6Ah4Fa7SvBd5TrFymvfgB2W9oEPmysvkuKAAAA=" width="606" height="76" class="img_ev3q"></p><p>Let&#x27;s grab this number now with a little bit of code:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const repositories = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const BASE_URL = &#x27;https://github.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const REPOSITORIES_URL = `${BASE_URL}/orgs/facebook/repositories`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPageElement = page.locator(&#x27;a[aria-label*=&quot;Page &quot;]:nth-last-child(2)&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// This will output 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPage = +(await lastPageElement.getAttribute(&#x27;aria-label&#x27;)).replace(/\D/g, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(lastPage);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const repositories = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const BASE_URL = &#x27;https://github.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const REPOSITORIES_URL = `${BASE_URL}/orgs/facebook/repositories`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPageLabel = await page.$eval(&#x27;a[aria-label*=&quot;Page &quot;]:nth-last-child(2)&#x27;, (elem) =&gt; elem.getAttribute(&#x27;aria-label&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// This will output 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPage = +lastPageLabel.replace(/\D/g, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(lastPage);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Learn more about the <code>:nth-last-child</code> pseudo-class <a href="https://www.w3schools.com/cssref/sel_nth-last-child.asp" target="_blank" rel="noopener">on W3Schools</a>. It works similar to <code>:nth-child</code>, but starts from the bottom of the parent element&#x27;s children instead of from the top.</p></blockquote><p>When we run this code, here&#x27;s what we see:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And since we&#x27;re already on the first page, we&#x27;ll go ahead and scrape the repos from it. However, since we are going to reuse this logic on the other pages as well, let&#x27;s create a function that will handle the data collection and reliably return a nice array of results:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const repositories = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const BASE_URL = &#x27;https://github.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const REPOSITORIES_URL = `${BASE_URL}/orgs/facebook/repositories`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a function which grabs all repos from a page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const scrapeRepos = async (page) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const $ = load(await page.content());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return [...$(&#x27;li.Box-row&#x27;)].map((item) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const elem = $(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const titleElement = elem.find(&#x27;a[itemprop*=&quot;name&quot;]&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            title: titleElement.text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: elem.find(&#x27;p[itemprop=&quot;description&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            link: new URL(titleElement.attr(&#x27;href&#x27;), BASE_URL).href,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPageElement = page.locator(&#x27;a[aria-label*=&quot;Page &quot;]:nth-last-child(2)&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPage = +(await lastPageElement.getAttribute(&#x27;aria-label&#x27;)).replace(/\D/g, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Push all results from the first page to results array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repositories.push(...(await scrapeRepos(page)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Log the 30 repositories scraped from the first page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(repositories);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const repositories = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const BASE_URL = &#x27;https://github.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const REPOSITORIES_URL = `${BASE_URL}/orgs/facebook/repositories`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a function which grabs all repos from a page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const scrapeRepos = async (page) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const $ = load(await page.content());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return [...$(&#x27;li.Box-row&#x27;)].map((item) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const elem = $(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const titleElement = elem.find(&#x27;a[itemprop*=&quot;name&quot;]&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            title: titleElement.text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: elem.find(&#x27;p[itemprop=&quot;description&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            link: new URL(titleElement.attr(&#x27;href&#x27;), BASE_URL).href,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPageLabel = await page.$eval(&#x27;a[aria-label*=&quot;Page &quot;]:nth-last-child(2)&#x27;, (elem) =&gt; elem.getAttribute(&#x27;aria-label&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPage = +lastPageLabel.replace(/\D/g, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Push all results from the first page to results array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repositories.push(...(await scrapeRepos(page)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Log the 30 repositories scraped from the first page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(repositories);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-making-a-request-for-each-results-page"><a href="#making-a-request-for-each-results-page"></a> Making a request for each results page<a class="hash-link" href="#-making-a-request-for-each-results-page" title="Direct link to heading">​</a></h3><p>Cool, so now we have all the tools we need to write concise logic that will be run for every single page. First, we&#x27;ll create an array of numbers from 0-4:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// We must add 1 to the lastPage, since the array starts at 0 and we</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// are creating an array from its index values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lastPage </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// -&gt; [0, 1, 2, 3, 4]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, we&#x27;ll slice the first two values from that array so that it starts from 2 and ends at 4:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lastPage </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// -&gt; [2, 3, 4]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This array now accurately represents the pages we need to go through. We&#x27;ll map through it and create an array of promises, all of which make a request to each page, scrape its data, then push it to the <strong>repositories</strong> array:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Map through the range. The value from the array is the page number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// to make a request for</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> promises </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lastPage </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Prepare the URL before making the request by setting the &quot;page&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// parameter to whatever the pageNumber is currently</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">URL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">REPOSITORIES_URL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">searchParams</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;page&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pageNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">href</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Scrape the data and push it to the &quot;repositories&quot; array</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        repositories</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">scrapeRepos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">page2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">promises</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">repositories</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>IMPORTANT!</strong> Usually, within the map function&#x27;s callback you&#x27;d want to add the requests to a request queue, especially when paginating through hundreds (or even thousands) of pages. But since we know that we have 4 pages and only 3 left to go through, it is totally safe to use <code>Promise.all()</code> for this specific use-case.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-final-code"><a href="#final-pagination-code"></a> Final code<a class="hash-link" href="#-final-code" title="Direct link to heading">​</a></h3><p>After all is said and done, here&#x27;s what our final code looks like:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const repositories = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const BASE_URL = &#x27;https://github.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const REPOSITORIES_URL = `${BASE_URL}/orgs/facebook/repositories`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const scrapeRepos = async (page) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const $ = load(await page.content());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return [...$(&#x27;li.Box-row&#x27;)].map((item) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const elem = $(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const titleElement = elem.find(&#x27;a[itemprop*=&quot;name&quot;]&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            title: titleElement.text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: elem.find(&#x27;p[itemprop=&quot;description&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            link: new URL(titleElement.attr(&#x27;href&#x27;), BASE_URL).href,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPageElement = page.locator(&#x27;a[aria-label*=&quot;Page &quot;]:nth-last-child(2)&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPage = +(await lastPageElement.getAttribute(&#x27;aria-label&#x27;)).replace(/\D/g, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repositories.push(...(await scrapeRepos(page)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const promises = [...Array(lastPage + 1).keys()].slice(2).map((pageNumber) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (async () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const page2 = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const url = new URL(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url.searchParams.set(&#x27;page&#x27;, pageNumber);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await page2.goto(url.href);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        repositories.push(...(await scrapeRepos(page2)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await page2.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await Promise.all(promises);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Log the final length of the &quot;repositories&quot; array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(repositories.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const repositories = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const BASE_URL = &#x27;https://github.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const REPOSITORIES_URL = `${BASE_URL}/orgs/facebook/repositories`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a function which grabs all repos from a page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const scrapeRepos = async (page) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const $ = load(await page.content());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return [...$(&#x27;li.Box-row&#x27;)].map((item) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const elem = $(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const titleElement = elem.find(&#x27;a[itemprop*=&quot;name&quot;]&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            title: titleElement.text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: elem.find(&#x27;p[itemprop=&quot;description&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            link: new URL(titleElement.attr(&#x27;href&#x27;), BASE_URL).href,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPageLabel = await page.$eval(&#x27;a[aria-label*=&quot;Page &quot;]:nth-last-child(2)&#x27;, (elem) =&gt; elem.getAttribute(&#x27;aria-label&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const lastPage = +lastPageLabel.replace(/\D/g, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repositories.push(...(await scrapeRepos(page)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const promises = [...Array(lastPage + 1).keys()].slice(2).map((pageNumber) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (async () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const page2 = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const url = new URL(REPOSITORIES_URL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url.searchParams.set(&#x27;page&#x27;, pageNumber);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await page2.goto(url.href);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        repositories.push(...(await scrapeRepos(page2)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await page2.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await Promise.all(promises);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Log the final length of the &quot;repositories&quot; array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(repositories.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If we remember correctly, Facebook has 115 Github repositories (at the time of writing this lesson), so the final output should be:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">115</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-lazy-loading-pagination"><a href="#lazy-loading-pagination"></a> Lazy-loading pagination<a class="hash-link" href="#-lazy-loading-pagination" title="Direct link to heading">​</a></h2><p>Though page number-based pagination is quite straightforward to automate the pagination process with, and though it is still an extremely common implementation, <a href="https://en.wikipedia.org/wiki/Lazy_loading" target="_blank" rel="noopener">lazy-loading</a> is becoming extremely popular on the modern web, which makes it an important and relevant topic to discuss.</p><blockquote><p>Note that on websites with lazy-loading pagination, <a href="/academy/api-scraping">API scraping</a> is usually a viable option, and a much better one due to reliability and performance.</p></blockquote><p>Take a moment to look at and scroll through the women&#x27;s clothing section <a href="https://www.aboutyou.com/c/women/clothing-20204" target="_blank" rel="noopener">on About You&#x27;s website</a>. Notice that the items are loaded as you scroll, and that there are no page numbers. Because of how drastically different this pagination implementation is from the previous one, it also requires a different workflow to scrape.</p><p>We&#x27;re going to scrape the brand and price from the first 75 results on the <strong>About You</strong> page linked above. Here&#x27;s our basic setup:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create an array where all scraped products will</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// be pushed to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const products = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://www.aboutyou.com/c/women/clothing-20204&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create an array where all scraped products will</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// be pushed to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const products = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://www.aboutyou.com/c/women/clothing-20204&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-auto-scrolling"><a href="#auto-scrolling"></a> Auto scrolling<a class="hash-link" href="#-auto-scrolling" title="Direct link to heading">​</a></h3><p>Now, what we&#x27;ll do is grab the height in pixels of a result item to have somewhat of a reference to how much we should scroll each time, as well as create a variable for keeping track of how many pixels have been scrolled.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Grab the height of result item in pixels, which will be used to scroll down</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> itemHeight </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">$eval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;a[data-testid*=&quot;productTile&quot;]&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">elem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientHeight</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Keep track of how many pixels have been scrolled down</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> totalScrolled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, within a <code>while</code> loop that ends once the length of the <strong>products</strong> array has reached 75, we&#x27;ll run some logic that scrolls down the page and waits 1 second before running again.</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (products.length &lt; 75) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.mouse.wheel(0, itemHeight * 3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    totalScrolled += itemHeight * 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Allow the products 1 second to load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.waitForTimeout(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (products.length &lt; 75) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.mouse.wheel({ deltaY: itemHeight * 3 });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    totalScrolled += itemHeight * 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Allow the products 1 second to load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.waitForTimeout(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will work; however, what if we reach the bottom of the page and there are say, only 55 total products on the page? That would result in an infinite loop. Because of this edge case, we have to keep track of the constantly changing available scroll height on the page.</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (products.length &lt; 75) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const scrollHeight = await page.evaluate(() =&gt; document.body.scrollHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.mouse.wheel(0, itemHeight * 3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    totalScrolled += itemHeight * 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Allow the products 1 second to load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.waitForTimeout(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Data collection login will go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const innerHeight = await page.evaluate(() =&gt; window.innerHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if the total pixels scrolled is equal to the true available scroll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // height of the page, we&#x27;ve reached the end and should stop scraping.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // even if we haven&#x27;t reach our goal of 75 products.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (totalScrolled &gt;= scrollHeight - innerHeight) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (products.length &lt; 75) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const scrollHeight = await page.evaluate(() =&gt; document.body.scrollHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.mouse.wheel({ deltaY: itemHeight * 3 });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    totalScrolled += itemHeight * 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Allow the products 1 second to load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.waitForTimeout(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Data collection login will go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const innerHeight = await page.evaluate(() =&gt; window.innerHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if the total pixels scrolled is equal to the true available scroll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // height of the page, we&#x27;ve reached the end and should stop scraping.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // even if we haven&#x27;t reach our goal of 75 products.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (totalScrolled &gt;= scrollHeight - innerHeight) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, the <code>while</code> loop will exit out if we&#x27;ve reached the bottom of the page.</p><blockquote><p>Generally, you&#x27;d want to create a utility function that handles this scrolling logic instead of putting all of the code directly into the while loop.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-collecting-data"><a href="#collecting-data"></a> Collecting data<a class="hash-link" href="#-collecting-data" title="Direct link to heading">​</a></h3><p>Within the loop, we can grab hold of the total number of items on the page. To avoid collecting and pushing duplicate items to the <strong>products</strong> array, we can use the <code>.slice()</code> method to cut out the items we&#x27;ve already scraped.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> $ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">content</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Grab the newly loaded items</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> items </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token method function property-access" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;a[data-testid*=&quot;productTile&quot;]&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">products</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> newItems </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> elem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">brand</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;p[data-testid=&quot;brandName&quot;]&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;span[data-testid=&quot;finalPrice&quot;]&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">products</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">newItems</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-final-code-1"><a href="#final-lazy-loading-code"></a> Final code<a class="hash-link" href="#-final-code-1" title="Direct link to heading">​</a></h3><p>With everything completed, this is what we&#x27;re left with:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const products = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://www.aboutyou.com/c/women/clothing-20204&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Grab the height of result item in pixels, which will be used to scroll down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const itemHeight = await page.$eval(&#x27;a[data-testid*=&quot;productTile&quot;]&#x27;, (elem) =&gt; elem.clientHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Keep track of how many pixels have been scrolled down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let totalScrolled = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (products.length &lt; 75) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const scrollHeight = await page.evaluate(() =&gt; document.body.scrollHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.mouse.wheel(0, itemHeight * 3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    totalScrolled += itemHeight * 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Allow the products 1 second to load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.waitForTimeout(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const $ = load(await page.content());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Grab the newly loaded items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const items = [...$(&#x27;a[data-testid*=&quot;productTile&quot;]&#x27;)].slice(products.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const newItems = items.map((item) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const elem = $(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            brand: elem.find(&#x27;p[data-testid=&quot;brandName&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            price: elem.find(&#x27;span[data-testid=&quot;finalPrice&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    products.push(...newItems);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const innerHeight = await page.evaluate(() =&gt; window.innerHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if the total pixels scrolled is equal to the true available scroll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // height of the page, we&#x27;ve reached the end and should stop scraping.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // even if we haven&#x27;t reach our goal of 75 products.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (totalScrolled &gt;= scrollHeight - innerHeight) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(products.slice(0, 75));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { load } from &#x27;cheerio&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const products = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://www.aboutyou.com/c/women/clothing-20204&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Grab the height of result item in pixels, which will be used to scroll down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const itemHeight = await page.$eval(&#x27;a[data-testid*=&quot;productTile&quot;]&#x27;, (elem) =&gt; elem.clientHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Keep track of how many pixels have been scrolled down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let totalScrolled = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (products.length &lt; 75) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const scrollHeight = await page.evaluate(() =&gt; document.body.scrollHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.mouse.wheel({ deltaY: itemHeight * 3 });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    totalScrolled += itemHeight * 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Allow the products 1 second to load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await page.waitForTimeout(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const $ = load(await page.content());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Grab the newly loaded items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const items = [...$(&#x27;a[data-testid*=&quot;productTile&quot;]&#x27;)].slice(products.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const newItems = items.map((item) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const elem = $(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            brand: elem.find(&#x27;p[data-testid=&quot;brandName&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            price: elem.find(&#x27;span[data-testid=&quot;finalPrice&quot;]&#x27;).text().trim(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    products.push(...newItems);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const innerHeight = await page.evaluate(() =&gt; window.innerHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if the total pixels scrolled is equal to the true available scroll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // height of the page, we&#x27;ve reached the end and should stop scraping.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // even if we haven&#x27;t reach our goal of 75 products.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (totalScrolled &gt;= scrollHeight - innerHeight) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(products.slice(0, 75));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-quick-note"><a href="#quick-note"></a> Quick note<a class="hash-link" href="#-quick-note" title="Direct link to heading">​</a></h2><p>The examples shown in this lesson are not the only ways to paginate through websites. They are here to serve as solid examples, but don&#x27;t view them as the end-all be-all of scraping paginated websites. The methods you use and algorithms you write might differ to various degrees based on what pages you&#x27;re scraping and how your specific target website implemented pagination.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-next-up"><a href="#next"></a> Next up<a class="hash-link" href="#-next-up" title="Direct link to heading">​</a></h2><p>We&#x27;re actively working in expanding this section of the course, so stay tuned!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-12-23T13:49:03.000Z">Dec 23, 2022</time></b> by <b>Jindřich Bär</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/academy/puppeteer-playwright/common-use-cases/logging-into-a-website"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Logging into a website</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/academy/puppeteer-playwright/common-use-cases/downloading-files"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Downloading files</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-page-number-based-pagination" class="table-of-contents__link toc-highlight"> Page number-based pagination</a><ul><li><a href="#-finding-the-last-page" class="table-of-contents__link toc-highlight"> Finding the last page</a></li><li><a href="#-making-a-request-for-each-results-page" class="table-of-contents__link toc-highlight"> Making a request for each results page</a></li><li><a href="#-final-code" class="table-of-contents__link toc-highlight"> Final code</a></li></ul></li><li><a href="#-lazy-loading-pagination" class="table-of-contents__link toc-highlight"> Lazy-loading pagination</a><ul><li><a href="#-auto-scrolling" class="table-of-contents__link toc-highlight"> Auto scrolling</a></li><li><a href="#-collecting-data" class="table-of-contents__link toc-highlight"> Collecting data</a></li><li><a href="#-final-code-1" class="table-of-contents__link toc-highlight"> Final code</a></li></ul></li><li><a href="#-quick-note" class="table-of-contents__link toc-highlight"> Quick note</a></li><li><a href="#-next-up" class="table-of-contents__link toc-highlight"> Next up</a></li></ul></div></div></div></div></main></div></div><footer class="footer_wSZr light"><div class="container padding-horiz--lg"><div class="row"><div class="col col--5"><div class="row"><div class="col col--6"><div class="footerTitle_Fgq2">Docs</div><ul class="clean-list"><li class="footer__item"><a class="footer__link-item" href="/academy">Academy</a></li><li class="footer__item"><a class="footer__link-item" href="/platform">Platform</a></li></ul></div><div class="col col--6"><div class="footerTitle_Fgq2">Community</div><ul class="clean-list"><li class="footer__item"><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div class="col col--7"><div class="row"><div class="col col--3 col--offset-9"><div class="footerTitle_Fgq2">More</div><ul class="clean-list"><li class="footer__item"><a href="https://apify.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Apify Platform<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://crawlee.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Crawlee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></div><div class="row padding-vert--md padding-top--lg"><div class="col padding-vert--md col--6"><div class="freeAndOpenSource_hqO5"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="alignMiddle_tIc4"><path d="m23.85 21.426-1.78-2.91a.48.48 0 0 1-.07-.26v-4.13c0-1.78-1.71-3.07-3.52-4.45a.511.511 0 0 1-.2-.36.53.53 0 0 1 .14-.4 4.93 4.93 0 0 0 1.07-5.88 5.08 5.08 0 0 0-8.08-1.29l-1.06 1a.48.48 0 0 1-.67 0l-1.06-1a5.09 5.09 0 0 0-8.09 1.29 5 5 0 0 0 1 5.76l7.76 8a1.059 1.059 0 0 0 .77.32 1.08 1.08 0 0 0 .78-.32.64.64 0 0 0 .14-.66 3.79 3.79 0 0 1-.2-1.38 3.749 3.749 0 0 1 4.92-3.37.49.49 0 0 0 .51-.13l.15-.15a.5.5 0 0 1 .66-.05l.3.23c1.22.92 2.73 2.07 2.73 2.85v4.55a1 1 0 0 0 .15.53l2 3.26a1 1 0 1 0 1.7-1l-.05-.05Z" fill="#B3B8D2"></path><path d="M16.09 13.196a2.37 2.37 0 0 0-3.19 0 2.38 2.38 0 0 0-.18 3.39l1.63 1.77a.55.55 0 0 1 .13.34v1c0 1.3 1.52 2.59 2 2.95a.91.91 0 0 0 .54.19.88.88 0 0 0 .54-1.57 3.889 3.889 0 0 1-1.31-1.57v-1.57a.86.86 0 0 0-.23-.59l-2-2.18a.58.58 0 0 1-.17-.45.66.66 0 0 1 .21-.44.64.64 0 0 1 .85 0l2 1.86a.874.874 0 1 0 1.19-1.28l-2.01-1.85Z" fill="#B3B8D2"></path></svg><span class="alignMiddle_tIc4">Apify SDK is free and open source</span></div></div><div class="col padding-vert--md col--6 text--right"><span class="builtBy_lIYF"><span class="alignMiddle_tIc4">Built by</span><svg width="91" height="25" fill="none" xmlns="http://www.w3.org/2000/svg" class="alignMiddle_tIc4"><path d="M3.135 2.85A3.409 3.409 0 0 0 .227 6.699l2.016 14.398 8.483-19.304-7.59 1.059Z" fill="#97D700"></path><path d="M23.604 14.847 22.811 3.78a3.414 3.414 0 0 0-3.64-3.154c-.077 0-.153.014-.228.025l-3.274.452 7.192 16.124a3.4 3.4 0 0 0 .743-2.379Z" fill="#71C5E8"></path><path d="M5.336 24.595a3.39 3.39 0 0 0 1.706-.248l12.35-5.211L13.514 5.97 5.336 24.595Z" fill="#FF9013"></path><path d="M33.83 5.304h3.903l5.448 14.623h-3.494l-1.022-2.994h-5.877l-1.025 2.994h-3.384L33.83 5.304Zm-.177 9.032h4.14l-2-5.994h-.086l-2.054 5.994Zm25.189-9.032h3.302v14.623h-3.302V5.304Zm5.792 0h10.71v2.7h-7.4v4.101h5.962v2.632h-5.963v5.186h-3.309V5.303Zm17.482 9.076-5.498-9.076h3.748l3.428 6.016h.085l3.599-6.016H91l-5.56 9.054v5.569h-3.324v-5.548ZM51.75 5.304h-7.292v14.623h3.3v-4.634h3.993a4.995 4.995 0 1 0 0-9.99Zm-.364 7.417h-3.628V7.875h3.627a2.423 2.423 0 0 1 0 4.846Z" fill="#fff"></path></svg></span></div></div></div></footer></div>
<script src="/assets/js/runtime~main.e415a2ae.js"></script>
<script src="/assets/js/main.7ddff4e2.js"></script>
</body>
</html>