<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-academy docs-doc-id-webscraping/puppeteer_playwright/reading_intercepting_requests">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">IV - Reading &amp; intercepting requests | Apify Docs v2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://apify.com/img/og/docs.png"><meta data-rh="true" name="twitter:image" content="https://apify.com/img/og/docs.png"><meta data-rh="true" property="og:url" content="https://docs-v2.apify.com/academy/puppeteer-playwright/reading-intercepting-requests"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-academy-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-academy-current"><meta data-rh="true" property="og:title" content="IV - Reading &amp; intercepting requests | Apify Docs v2"><meta data-rh="true" name="description" content="You can use DevTools, but did you know that you can do all the same stuff (plus more) programmatically? Read and intercept requests in Puppeteer/Playwright."><meta data-rh="true" property="og:description" content="You can use DevTools, but did you know that you can do all the same stuff (plus more) programmatically? Read and intercept requests in Puppeteer/Playwright."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs-v2.apify.com/academy/puppeteer-playwright/reading-intercepting-requests"><link data-rh="true" rel="alternate" href="https://docs-v2.apify.com/academy/puppeteer-playwright/reading-intercepting-requests" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs-v2.apify.com/academy/puppeteer-playwright/reading-intercepting-requests" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N8EOCSBQGH-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Apify Docs v2" href="/opensearch.xml">



<script src="/js/custom.js"></script><link rel="stylesheet" href="/assets/css/styles.039b1d6c.css">
<link rel="preload" href="/assets/js/runtime~main.a0a5b646.js" as="script">
<link rel="preload" href="/assets/js/main.381e16eb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div style="width:100%;height:fit-content;align-items:center;display:flex;flex-direction:column"><div class="navbar__inner"><div class="navbar__container"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs-v2.apify.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/apify_sdk.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/apify_sdk_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Apify Docs</b></a><a href="https://docs-v2.apify.com/academy" target="_self" rel="dofollow" class="navbar__item navbar__link navbar__link--active">Academy</a><a href="https://docs-v2.apify.com/platform" target="_self" rel="dofollow" class="navbar__item navbar__link">Platform</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link">API</a><ul class="dropdown__menu"><li><a href="https://docs-v2.apify.com/api/v2/" target="_self" rel="dofollow" class="dropdown__link">Reference</a></li><li><a href="https://docs-v2.apify.com/client-js/" target="_self" rel="dofollow" class="dropdown__link">Client for JavaScript</a></li><li><a href="https://docs-v2.apify.com/client-python/" target="_self" rel="dofollow" class="dropdown__link">Client for Python</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link">SDK</a><ul class="dropdown__menu"><li><a href="https://docs-v2.apify.com/sdk-js/" target="_self" rel="dofollow" class="dropdown__link">SDK for JavaScript</a></li><li><a href="https://docs-v2.apify.com/sdk-python/" target="_self" rel="dofollow" class="dropdown__link">SDK for Python</a></li></ul></div><a href="https://docs-v2.apify.com/cli/" target="_self" rel="dofollow" class="navbar__item navbar__link">CLI</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar__item">Open Source</a><ul class="dropdown__menu"><li><a href="https://crawlee.dev" target="_blank" rel="dofollow" class="dropdown__link">Crawlee</a></li><li><a href="https://github.com/apify/got-scraping" target="_blank" rel="noopener noreferrer" class="dropdown__link">Got Scraping</a></li><li><a href="https://github.com/apify/fingerprint-suite" target="_blank" rel="noopener noreferrer" class="dropdown__link">Fingerprint Suite</a></li><li><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="dropdown__link">See our GitHub</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_HIU5 colorModeToggle_nCl2"><button class="clean-btn toggleButton_ezTW toggleButtonDisabled_E3zm" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><span><svg viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg" width="14" height="14" class="lightToggleIcon_kM7M"><g clip-path="url(#clip0_833_8168)"><path d="M6.59998 8.49999C7.98069 8.49999 9.09998 7.3807 9.09998 5.99999C9.09998 4.61928 7.98069 3.49999 6.59998 3.49999C5.21926 3.49999 4.09998 4.61928 4.09998 5.99999C4.09998 7.3807 5.21926 8.49999 6.59998 8.49999Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 0.5V1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 10.5V11.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 2.11L3.4199 2.82" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 9.17999L10.4899 9.88999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M1.09998 6H2.09998" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.0999 6H12.0999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 9.88999L3.4199 9.17999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 2.82L10.4899 2.11" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_833_8168"><rect width="12" height="12" fill="white" transform="translate(0.599976)"></rect></clipPath></defs></svg><svg viewBox="0 0 13 12" width="14" height="14" class="darkToggleIcon_BL0U"><path d="M10.7001 6.39501C10.6215 7.24611 10.3021 8.05721 9.77927 8.7334C9.25646 9.40959 8.55189 9.92291 7.748 10.2133C6.9441 10.5036 6.07414 10.5591 5.2399 10.3731C4.40565 10.187 3.64164 9.76728 3.03726 9.1629C2.43287 8.55851 2.01312 7.7945 1.8271 6.96026C1.64108 6.12602 1.6965 5.25605 1.98688 4.45216C2.27725 3.64826 2.79056 2.94369 3.46675 2.42088C4.14294 1.89808 4.95404 1.57866 5.80515 1.50001C5.30685 2.17414 5.06707 3.00473 5.12941 3.84071C5.19175 4.6767 5.55208 5.46254 6.14485 6.05531C6.73762 6.64808 7.52346 7.0084 8.35944 7.07074C9.19542 7.13308 10.026 6.8933 10.7001 6.39501Z" stroke="currentColor" fill="transparent" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></button></div><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="See our GitHub">GitHub</a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord">Discord</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://docs-v2.apify.com" target="_self" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="/img/apify_sdk.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/apify_sdk_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"><b>Apify Docs</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/academy">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Web scraping &amp; Automation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/web-scraping-for-beginners">Web scraping for beginners</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web scraping for beginners&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/academy/puppeteer-playwright">Puppeteer &amp; Playwright</a><button aria-label="Toggle the collapsible sidebar category &#x27;Puppeteer &amp; Playwright&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/browser">I - Launching a browser</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/puppeteer-playwright/page">II - Opening &amp; controlling a page</a><button aria-label="Toggle the collapsible sidebar category &#x27;II - Opening &amp; controlling a page&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/puppeteer-playwright/executing-scripts">III - Executing scripts</a><button aria-label="Toggle the collapsible sidebar category &#x27;III - Executing scripts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/academy/puppeteer-playwright/reading-intercepting-requests">IV - Reading &amp; intercepting requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/proxies">V - Using proxies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/puppeteer-playwright/browser-contexts">VI - Creating multiple browser contexts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/puppeteer-playwright/common-use-cases">Common use cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Common use cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/api-scraping">API scraping</a><button aria-label="Toggle the collapsible sidebar category &#x27;API scraping&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/switching-to-typescript">Switching to TypeScript</a><button aria-label="Toggle the collapsible sidebar category &#x27;Switching to TypeScript&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/advanced-web-scraping">Advanced web scraping</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced web scraping&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Apify Platform</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/apify-platform">Introduction to Apify Platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/getting-started">Getting started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/deploying-your-code">Deploying your code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploying your code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/get-most-of-actors">Getting the most of actors on Apify Store</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting the most of actors on Apify Store&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/running-a-web-server">Running a web server on the Apify platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/expert-scraping-with-apify">Expert scraping with Apify</a><button aria-label="Toggle the collapsible sidebar category &#x27;Expert scraping with Apify&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/tutorials">What&#x27;s this section?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/node-js">Node.js tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Node.js tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/python">Python tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Glossary</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/academy/glossary">Why a glossary?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/tools">Tools</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/academy/concepts">Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Web scraping &amp; Automation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/academy/puppeteer-playwright"><span itemprop="name">Puppeteer &amp; Playwright</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">IV - Reading &amp; intercepting requests</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Reading &amp; intercepting requests</h1><p><strong>You can use DevTools, but did you know that you can do all the same stuff (plus more) programmatically? Read and intercept requests in Puppeteer/Playwright.</strong></p><hr><p>On any website that serves up images, makes <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">XMLHttpRequests</a>, or fetches content in some other way, you can see those requests (and their responses) in the <a href="/academy/api-scraping/general-api-scraping/locating-and-learning"><strong>Network</strong> tab</a> of your browser&#x27;s DevTools. Lots of data about the request can be found there, such as the headers, payload, and response body.</p><p>In Playwright and Puppeteer, it is also possible to read (and even intercept) requests being made on the page - programmatically. This is very useful for things like reading dynamic headers, saving API responses, blocking certain resources, and much more.</p><p>During this lesson, we&#x27;ll be using <a href="https://soundcloud.com/tiesto/following" target="_blank" rel="noopener">Tiësto&#x27;s following list</a> on SoundCloud to demonstrate request/response reading and interception. Here&#x27;s our basic setup for opening the page:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Our code will go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Our code will go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reading-requests">Reading requests<a class="hash-link" href="#reading-requests" title="Direct link to heading">​</a></h2><p>We can use the <a href="https://pptr.dev/#?product=Puppeteer&amp;version=v14.0.0&amp;show=api-event-close" target="_blank" rel="noopener"><code>page.on()</code></a> function to listen for the <strong>request</strong> event, passing in a callback function. The first parameter of the passed in callback function is an object representing the request.</p><p>Upon visiting Tiësto&#x27;s following page, we can see in the <strong>Network</strong> tab that a request is made to fetch all of the users which he is following.</p><p><img loading="lazy" alt="Request to grab Tiësto&amp;#39;s following list" src="/assets/images/tiesto-request-ba0c8d53d9258c9be64f746eac6404f5.webp" width="1536" height="382" class="img_ev3q"></p><p>Let&#x27;s go ahead and listen for this request in our code:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Listen for all requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;request&#x27;, (req) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If the URL doesn&#x27;t include our keyword, ignore it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!req.url().includes(&#x27;followings&#x27;)) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;Request for followers was made!&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Listen for all requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;request&#x27;, (req) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If the URL doesn&#x27;t include our keyword, ignore it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!req.url().includes(&#x27;followings&#x27;)) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;Request for followers was made!&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note that you should always define any request reading/interception code prior to calling the <code>page.goto()</code> function.</p></blockquote><p>Cool! So now when we run our code, we&#x27;ll see this logged to the console:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Request for followers was made!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This request includes some useful query parameters, namely the <code>client_id</code>. Let&#x27;s go ahead and grab these values from the request URL and print them to the console:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Listen for all requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;request&#x27;, (req) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If the URL doesn&#x27;t include our keyword, ignore it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!req.url().includes(&#x27;followings&#x27;)) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Convert the request URL into a URL object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const url = new URL(req.url());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Print the search parameters in object form</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(Object.fromEntries(url.searchParams));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Listen for all requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;request&#x27;, (req) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If the URL doesn&#x27;t include our keyword, ignore it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!req.url().includes(&#x27;followings&#x27;)) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Convert the request URL into a URL object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const url = new URL(req.url());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Print the search parameters in object form</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(Object.fromEntries(url.searchParams));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After running this code, we can see this logged to the console:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client_id: &#x27;llCGDUjKpxUslgO1yEce7Zh95PXE78Bo&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  limit: &#x27;12&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  offset: &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  linked_partitioning: &#x27;1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app_version: &#x27;1652347025&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app_locale: &#x27;en&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reading-responses">Reading responses<a class="hash-link" href="#reading-responses" title="Direct link to heading">​</a></h2><p>Listening for and reading responses is very similar to reading requests. The only difference is that we need to listen for the <strong>response</strong> event instead of <strong>request</strong>. Additionally, the object passed into the callback function represents the response instead of the request.</p><p>This time, instead of grabbing the query parameters of the request URL, let&#x27;s grab hold of the response body and print it to the console in JSON format:</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Notice that the callback function is now async</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;response&#x27;, async (res) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!res.request().url().includes(&#x27;followings&#x27;)) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Grab the response body in JSON format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const json = await res.json();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(json);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.error(&#x27;Response wasn&#x27;t JSON or failed to parse response.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Notice that the callback function is now async</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;response&#x27;, async (res) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!res.request().url().includes(&#x27;followings&#x27;)) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Grab the response body in JSON format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const json = await res.json();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(json);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.error(&#x27;Response wasn&#x27;t JSON or failed to parse response.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Take notice of our usage of a <code>try...catch</code> block. This is because if the response is not JSON, the <code>res.json()</code> function will fail and throw an error, which we must handle to prevent any unexpected crashes.</p></blockquote><p>Upon running this code, we&#x27;ll see the API response logged into the console:</p><p><img loading="lazy" alt="API response in console" src="/assets/images/api-response-tiesto-92972d280a2d7c0237ecc23cc0fd060b.webp" width="1546" height="1186" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="intercepting-requests">Intercepting requests<a class="hash-link" href="#intercepting-requests" title="Direct link to heading">​</a></h2><p>One of the most popular ways of speeding up website loading in Puppeteer and Playwright is by blocking certain resources from loading. These resources are usually CSS files, images, and other miscellaneous resources that aren&#x27;t super necessary (mainly because the computer doesn&#x27;t have eyes - it doesn&#x27;t care how the website looks!).</p><p>In Puppeteer, we must first enable request interception with the <code>page.setRequestInterception()</code> function. Then, we can check whether or not the request&#x27;s resource ends with one of our blocked extensions. If so, we&#x27;ll abort the request. Otherwise, we&#x27;ll let it continue. All of this logic will still be within the <code>page.on()</code> method.</p><p>With Playwright, request interception is a bit different. We use the <a href="https://playwright.dev/docs/api/class-page#page-route" target="_blank" rel="noopener"><code>page.route()</code></a> function instead of <code>page.on()</code>, passing in a string, regular expression, or a function that will match the URL of the request we&#x27;d like to read from. The second parameter is also a callback function, but with the <a href="https://playwright.dev/docs/api/class-route" target="_blank" rel="noopener"><strong>Route</strong></a> object passed into it instead.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blocking-resources">Blocking resources<a class="hash-link" href="#blocking-resources" title="Direct link to heading">​</a></h3><p>We&#x27;ll first create an array of some file extensions that we&#x27;d like to block:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> blockedExtensions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;.png&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.css&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.jpg&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.jpeg&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.pdf&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.svg&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, we&#x27;ll <code>abort()</code> all requests that end with any of these extensions.</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const blockedExtensions = [&#x27;.png&#x27;, &#x27;.css&#x27;, &#x27;.jpg&#x27;, &#x27;.jpeg&#x27;, &#x27;.pdf&#x27;, &#x27;.svg&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Only listen for requests with one of our blocked extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Abort all matching requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.route(`**/*{${blockedExtensions.join(&#x27;,&#x27;)}}`, async (route) =&gt; route.abort());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const blockedExtensions = [&#x27;.png&#x27;, &#x27;.css&#x27;, &#x27;.jpg&#x27;, &#x27;.jpeg&#x27;, &#x27;.pdf&#x27;, &#x27;.svg&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Enable request interception (skipping this step will result in an error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.setRequestInterception(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Listen for all requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;request&#x27;, async (req) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If the request ends in a blocked extension, abort the request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (blockedExtensions.some((str) =&gt; req.url().endsWith(str))) return req.abort();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Otherwise, continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await req.continue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>You can also use <code>request.resourceType()</code> to grab the resource type.</p></blockquote><p>Here&#x27;s what we see when we run this logic:</p><p><img loading="lazy" alt="SoundCloud with no CSS or image resources loaded" src="/assets/images/ugly-soundcloud-6b42ab4d5f28bd4b8fd5f3865e5d5c82.webp" width="2522" height="1126" class="img_ev3q"></p><p>This confirms that we&#x27;ve successfully blocked the CSS and image resources from loading.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="quick-note">Quick note about resource blocking<a class="hash-link" href="#quick-note" title="Direct link to heading">​</a></h4><p>Something <strong>very</strong> important to note is that by using request interception, the browser&#x27;s cache is turned <strong>off</strong>. This means that resources on websites that would normally be cached (and pulled from the cache instead on the next request for those resources) will not be cached, which can have varying negative effects on performance, especially when making many requests to the same domain, which is very common in web scraping. You can learn how to solve this problem in <a href="/academy/node-js/caching-responses-in-puppeteer">this short tutorial</a></p><p>To block resources, it is better to use a CDP (Chrome DevTools Protocol) Session (<a href="https://playwright.dev/docs/api/class-cdpsession" target="_blank" rel="noopener">Playwright</a>/<a href="https://pptr.dev/#?product=Puppeteer&amp;version=v14.1.0&amp;show=api-class-cdpsession" target="_blank" rel="noopener">Puppeteer</a>) to set the blocked URLs. Here is an implementation that achieves the same goal as our above example above; however, the browser&#x27;s cache remains enabled.</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Note, you can&#x27;t use CDP session in other browsers!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Only in Chromium.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Define our blocked extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const blockedExtensions = [&#x27;.png&#x27;, &#x27;.css&#x27;, &#x27;.jpg&#x27;, &#x27;.jpeg&#x27;, &#x27;.pdf&#x27;, &#x27;.svg&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Use CDP session to block resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const client = await page.context().newCDPSession();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await client.send(&#x27;Network.setBlockedURLs&#x27;, { urls: blockedExtensions });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Define our blocked extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const blockedExtensions = [&#x27;.png&#x27;, &#x27;.css&#x27;, &#x27;.jpg&#x27;, &#x27;.jpeg&#x27;, &#x27;.pdf&#x27;, &#x27;.svg&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Use CDP session to block resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.client().send(&#x27;Network.setBlockedURLs&#x27;, { urls: blockedExtensions });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modifyng-the-request">Modifying the request<a class="hash-link" href="#modifyng-the-request" title="Direct link to heading">​</a></h3><p>There&#x27;s much more to intercepting requests than just aborting them though. We can change the payload, headers, query parameters, and even the base URL.</p><p>Let&#x27;s go ahead and intercept and modify the initial request we fire off with the <code>page.goto()</code> by making it go to <a href="https://soundcloud.com/mestomusic" target="_blank" rel="noopener">Mesto&#x27;s following page</a> instead.</p><div class="language-marked-tabs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-marked-tabs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Playwright&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chromium } from &#x27;playwright&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await chromium.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Only listen for requests matching this regular expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.route(/soundcloud.com\/tiesto/, async (route) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Continue  the route, but replace &quot;tiesto&quot; in the URL with &quot;mestomusic&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return route.continue({ url: route.request().url().replace(&#x27;tiesto&#x27;, &#x27;mestomusic&#x27;) });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;marked-tab header=&quot;Puppeteer&quot; lang=&quot;javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import puppeteer from &#x27;puppeteer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const browser = await puppeteer.launch({ headless: false });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const page = await browser.newPage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.setRequestInterception(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Listen for all requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page.on(&#x27;request&#x27;, async (req) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If it doesn&#x27;t match, continue the route normally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!/soundcloud.com\/tiesto/.test(req.url())) return req.continue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Otherwise, continue  the route, but replace &quot;tiesto&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // in the URL with &quot;mestomusic&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await req.continue({ url: req.url().replace(&#x27;tiesto&#x27;, &#x27;mestomusic&#x27;) });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.goto(&#x27;https://soundcloud.com/tiesto/following&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await page.waitForTimeout(10000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await browser.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/marked-tab&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note that this <strong>is not</strong> a redirect, because Tiësto&#x27;s page was never even visited. The request was changed before it was even fulfilled.</p></blockquote><p>Here&#x27;s what we see when we run <code>node index.js</code>:</p><p><img loading="lazy" alt="Request intercepted and sent to Mesto&amp;#39;s page instead" src="/assets/images/mesto-following-69c24904379152a5aea6cf5d6c61d4d0.webp" width="1264" height="1138" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="next">Next up<a class="hash-link" href="#next" title="Direct link to heading">​</a></h2><p>The <a href="/academy/puppeteer-playwright/proxies">next lesson</a> will teach you how to use proxies in Playwright and Puppeteer in order to avoid blocking or appear as if you are requesting from a different location.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-01-23T15:04:56.000Z">Jan 23, 2023</time></b> by <b>Jindřich Bär</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/academy/puppeteer-playwright/executing-scripts/collecting-data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Collecting data</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/academy/puppeteer-playwright/proxies"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">V - Using proxies</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reading-requests" class="table-of-contents__link toc-highlight">Reading requests</a></li><li><a href="#reading-responses" class="table-of-contents__link toc-highlight">Reading responses</a></li><li><a href="#intercepting-requests" class="table-of-contents__link toc-highlight">Intercepting requests</a><ul><li><a href="#blocking-resources" class="table-of-contents__link toc-highlight">Blocking resources</a></li><li><a href="#modifyng-the-request" class="table-of-contents__link toc-highlight">Modifying the request</a></li></ul></li><li><a href="#next" class="table-of-contents__link toc-highlight">Next up</a></li></ul></div></div></div></div></main></div></div><footer class="footer_wSZr light"><div class="container padding-horiz--lg"><div class="row" style="justify-content:space-between"><div class="col col--2"><div class="footerTitle_Fgq2">Learn</div><ul class="clean-list"><li class="footer__item"><a href="https://docs-v2.apify.com/academy" target="_self" rel="dofollow" class="footer__link-item">Academy</a></li><li class="footer__item"><a href="https://docs-v2.apify.com/platform" target="_self" rel="dofollow" class="footer__link-item">Platform</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">API</div><ul class="clean-list"><li class="footer__item"><a href="https://docs-v2.apify.com/api/v2/" target="_self" rel="dofollow" class="footer__link-item">Reference</a></li><li class="footer__item"><a href="https://docs-v2.apify.com/client-js/" target="_self" rel="dofollow" class="footer__link-item">Client for JavaScript</a></li><li class="footer__item"><a href="https://docs-v2.apify.com/client-python/" target="_self" rel="dofollow" class="footer__link-item">Client for Python</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">SDK</div><ul class="clean-list"><li class="footer__item"><a href="https://docs-v2.apify.com/sdk-js/" target="_self" rel="dofollow" class="footer__link-item">SDK for JavaScript</a></li><li class="footer__item"><a href="https://docs-v2.apify.com/sdk-python/" target="_self" rel="dofollow" class="footer__link-item">SDK for Python</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">Other</div><ul class="clean-list"><li class="footer__item"><a href="https://docs-v2.apify.com/cli/" target="_self" rel="dofollow" class="footer__link-item" position="left">CLI</a></li></ul></div><div class="col col--2"><div class="footerTitle_Fgq2">More</div><ul class="clean-list"><li class="footer__item"><a href="https://crawlee.dev" target="_blank" rel="dofollow" class="footer__link-item">Crawlee</a></li><li class="footer__item"><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="row padding-vert--md padding-top--lg"><div class="col padding-vert--md col--6"><div class="footerLogo_yvY1"></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.a0a5b646.js"></script>
<script src="/assets/js/main.381e16eb.js"></script>
</body>
</html>