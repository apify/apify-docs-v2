"use strict";(self.webpackChunkapify_docs_v2=self.webpackChunkapify_docs_v2||[]).push([[425],{3905:(e,r,t)=>{t.d(r,{Zo:()=>u,kt:()=>m});var o=t(67294);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var c=o.createContext({}),l=function(e){var r=o.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},u=function(e){var r=l(e.components);return o.createElement(c.Provider,{value:r},e.children)},p={inlineCode:"code",wrapper:function(e){var r=e.children;return o.createElement(o.Fragment,{},r)}},d=o.forwardRef((function(e,r){var t=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(t),m=n,f=d["".concat(c,".").concat(m)]||d[m]||p[m]||a;return t?o.createElement(f,i(i({ref:r},u),{},{components:t})):o.createElement(f,i({ref:r},u))}));function m(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var a=t.length,i=new Array(a);i[0]=d;var s={};for(var c in r)hasOwnProperty.call(r,c)&&(s[c]=r[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var l=2;l<a;l++)i[l]=t[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},43894:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var o=t(87462),n=t(63366),a=(t(67294),t(3905)),i=["components"],s={title:"Avoid EACCES error in actor builds with a custom Dockerfile",description:"Learn how to work around an issue where actor builds with a custom Dockerfile fail to copy files due to write access errors.",sidebar_position:16.4,slug:"/node-js/avoid-eacces-error-in-actor-builds"},c=void 0,l={unversionedId:"tutorials/node_js/avoid_eacces_error_in_actor_builds",id:"tutorials/node_js/avoid_eacces_error_in_actor_builds",title:"Avoid EACCES error in actor builds with a custom Dockerfile",description:"Learn how to work around an issue where actor builds with a custom Dockerfile fail to copy files due to write access errors.",source:"@site/sources/academy/tutorials/node_js/avoid_eacces_error_in_actor_builds.md",sourceDirName:"tutorials/node_js",slug:"/node-js/avoid-eacces-error-in-actor-builds",permalink:"/academy/node-js/avoid-eacces-error-in-actor-builds",draft:!1,editUrl:"https://github.com/apify/apify-docs-v2/edit/master/sources/academy/tutorials/node_js/avoid_eacces_error_in_actor_builds.md",tags:[],version:"current",lastUpdatedBy:"Martin Ad\xe1mek",lastUpdatedAt:1675963489,formattedLastUpdatedAt:"Feb 9, 2023",sidebarPosition:16.4,frontMatter:{title:"Avoid EACCES error in actor builds with a custom Dockerfile",description:"Learn how to work around an issue where actor builds with a custom Dockerfile fail to copy files due to write access errors.",sidebar_position:16.4,slug:"/node-js/avoid-eacces-error-in-actor-builds"},sidebar:"academy",previous:{title:"Debugging your Web Scraper pageFunction in browser's console",permalink:"/academy/node-js/debugging-web-scraper"},next:{title:"Apify's free Google SERP API",permalink:"/academy/node-js/apify-free-google-serp-api"}},u={},p=[],d={toc:p};function m(e){var r=e.components,t=(0,n.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},d,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Sometimes when building an actor using a custom Dockerfile, you might receive errors like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-Bash"},"Missing write access to ...\n")),(0,a.kt)("p",null,"or"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-Bash"},"EACCES: permission denied\n")),(0,a.kt)("p",null,"This problem is usually caused by the fact that by default, the ",(0,a.kt)("inlineCode",{parentName:"p"},"COPY")," Dockerfile instruction copies files as the root user (with UID and GID of 0), while your Dockerfile probably uses another user to copy files and run commands."),(0,a.kt)("p",null,"To fix this problem, make sure the ",(0,a.kt)("inlineCode",{parentName:"p"},"COPY")," \xa0instruction in Dockerfile uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"--chown")," flag. For example, instead of"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-Bash"},"COPY . ./\n")),(0,a.kt)("p",null,"use"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-Bash"},"COPY --chown=myuser:myuser . ./\n")),(0,a.kt)("p",null,"where ",(0,a.kt)("inlineCode",{parentName:"p"},"myuser")," \xa0is the user and group defined by the ",(0,a.kt)("inlineCode",{parentName:"p"},"USER")," \xa0instruction in the base Docker image. To learn more, see ",(0,a.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/reference/builder/#copy",target:"_blank",rel:"noopener"},"Dockerfile documentation"),"."),(0,a.kt)("p",null,"Hope this helps!"))}m.isMDXComponent=!0}}]);